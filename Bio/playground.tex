\documentclass{article}
\usepackage{hyperref}

\usepackage{url}
\DeclareUrlCommand{\FileName}{\urlstyle{tt}}

\usepackage{makeidx}
\makeindex

%%%
\newcounter{file}
\providecommand*{\theHfile}{\thefile}

\newcommand*{\labelfile}[1]{%
  \renewcommand*{\theHfile}{#1}%
  \refstepcounter{file}%
  \label{file:#1}%
  \index{file!#1@\string\FileName{#1}}%
}
%%%

\newcommand*{\file}[1]{%
  \hyperref[file:#1]{\FileName{#1}}%
} 

\begin{document}

\section{about links in pdf}    
The code is in \file{preamble/hyperref.tex}
\dots
\section{preamble/hyperref.tex}
\labelfile{preamble/hyperref.tex}

\printindex

\end{document}